- type: entity
  id: ShipEventRocketCannon
  parent: ShipEventCannon
  name: rocket cannon
  description: A ballistic machine gun auto-turret.
  components:
  - type: Sprite
    layers:
      - state: syndie_lethal
  - type: Destructible
    thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 300
        behaviors:
          - !type:DoActsBehavior
            acts: [ "Destruction" ]
          - !type:PlaySoundBehavior
            sound:
              path: /Audio/Effects/metalbreak.ogg
          - !type:SpawnEntitiesBehavior
            spawn:
              SheetSteel1:
                min: 3
                max: 5
  - type: Gun
    minAngle: 4
    maxAngle: 20
    angleIncrease: 4
    angleDecay: 16
    fireRate: 4
    projectileSpeed: 50
    selectedMode: FullAuto
    availableModes:
      - FullAuto
    soundGunshot: /Audio/Weapons/Guns/Gunshots/gun_sentry.ogg
  - type: ChamberMagazineAmmoProvider
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
      gun_chamber: !type:ContainerSlot
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: MagazineLightRifleBoxEvent
        insertSound: /Audio/Weapons/Guns/MagIn/batrifle_magin.ogg
        ejectSound: /Audio/Weapons/Guns/MagOut/batrifle_magout.ogg
        priority: 2
        whitelist:
          tags:
            - MagazineLightRifleBox
      gun_chamber:
        name: Chamber
        startingItem: CartridgeLightRifleExplosive
        priority: 1
        whitelist:
          tags:
            - CartridgeLightRifle

- type: entity
  id: MagazineLightRifleBoxEvent
  name: rocket cannon magazine box
  suffix: SHIPEVENT
  parent: MagazineLightRifleBox
  components:
  - type: BallisticAmmoProvider
    proto: CartridgeLightRifleExplosive
    capacity: 100

- type: entity
  id: CartridgeLightRifleExplosive
  name: cartridge (explosive)
  parent: CartridgeLightRifle
  suffix: SHIPEVENT
  components:
  - type: CartridgeAmmo
    proto: LightRifleBulletExplosive

- type: entity
  id: LightRifleBulletExplosive
  name: bullet
  parent: BaseBulletTrigger
  suffix: SHIPEVENT
  components:
    - type: Sprite
      sprite: Objects/Weapons/Guns/Projectiles/projectiles2.rsi
      layers:
        - state: frag
    - type: ExplodeOnTrigger
    - type: Explosive
      explosionType: Default
      totalIntensity: 25
      maxIntensity: 5
      maxTileBreak: 1
    - type: PointLight
      radius: 3.5
      color: orange
      energy: 0.5
